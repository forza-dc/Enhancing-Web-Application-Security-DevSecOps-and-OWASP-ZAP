# üë®üèª‚Äçüíª üåé üîê Enhancing Web Application Security: DevSecOps and OWASP ZAP üë®üèª‚Äçüíª üåé üîê
## Lab Overview

DevSecOps is an approach that integrates security practices into the DevOps process, aiming to ensure that security is an integral part of the software development lifecycle. In this case, the project involves setting up and utilizing OWASP ZAP within a Docker container for automated security scans of web applications. This aligns with the principles of DevSecOps by incorporating security measures early in the development and deployment pipeline, also known as the 'Shift Left' philosophy, allowing for proactive identification and mitigation of potential vulnerabilities earlier in the software development process.
This short project delves into the setup and utilization of OWASP ZAP within a Docker container, enabling automated security scans for web applications. From installing Docker to pulling the necessary ZAP image, running scans with customizable parameters, and interpreting the generated reports, this article provides step-by-step instructions, and insights into identifying potential vulnerabilities within web applications. Explore the importance of proactive security measures and gain practical knowledge to fortify your web app against cyber threats.

## Flow Diagram

![image](https://github.com/forza-dc/Enhancing-Web-Application-Security-DevSecOps-and-OWASP-ZAP/blob/main/Flow%20Diagram%20Owasp%20Paint%201.png) 

## Requirrements

Before proceeding, ensure that you have Kali Linux installed, or have access to a Kali Linux environment to execute the commands and utilize OWASP ZAP for web application security assessments.

## Updating Package Lists

Ensures that the package lists on the Linux system are updated, allowing for upgrades and new package installations.
          (sudo apt update)

![image](https://github.com/forza-dc/Enhancing-Web-Application-Security-DevSecOps-and-OWASP-ZAP/blob/main/Apt%20Update%20Command.jpg) 

## Installing and Enabling Docker

Setting up Docker involves installing the platform,

          sudo apt install docker.io          
starting the Docker service,

          sudo systemctl start docker
and configuring it for automatic initiation during system boot.

          sudo systemctl enable docker
This facilitates containerization, providing a consistent environment for running applications and ensuring persistent availability.

          sudo systemctl status docker

![image](https://github.com/forza-dc/Enhancing-Web-Application-Security-DevSecOps-and-OWASP-ZAP/blob/main/Docker%20Service%20Start.png) 


## Pulling OWASP ZAP Docker Image
Retrieves the Docker image named (zap2docker-weekly), from the (ictu) repository, containing the OWASP ZAP toolset for security scanning.

          sudo docker pull ictu/zap2docker-weekly

![image](https://github.com/forza-dc/Enhancing-Web-Application-Security-DevSecOps-and-OWASP-ZAP/blob/main/Pulling%20Owasp%20zap.png) 

## Running OWASP ZAP in Docker Container

Executes a container based on the (zap2docker-weekly) image in interactive mode, launching a Bash shell within the container for manual operations or configurations.

          docker run -it ictu/zap2docker-weekly /bin/bash

![image](https://github.com/forza-dc/Enhancing-Web-Application-Security-DevSecOps-and-OWASP-ZAP/blob/main/OwaspZap%20Command%20in%20docker.png) 

## Executing Automated OWASP ZAP Security Scan

Initiates an automated security scan using OWASP ZAP within the Docker container. Parameters like '-I' for headless mode, '-j' for JSON output, defining the test report location, specifying authentication details, and more, configure the scan to assess the security posture of a target web application.
As I'm gonna test this Web Application (http://demo.testfire.net/login.jsp).

            docker run --rm -v "$(pwd)":/zap/wrk/:rw -t ictu/zap2docker-weekly zap-baseline.py -I -j \
            -t http://demo.testfire.net/ \
            -r /zap/wrk/testreport.html \
            --hook=/zap/auth_hook.py \
            -z "auth.loginurl=http://demo.testfire.net/login.jsp" \
            -z "auth.username=admin" \
            -z "auth.password=admin"

![image](https://github.com/forza-dc/Enhancing-Web-Application-Security-DevSecOps-and-OWASP-ZAP/blob/main/Executing%20Owaszap%20Scan.png) 
![image](https://github.com/forza-dc/Enhancing-Web-Application-Security-DevSecOps-and-OWASP-ZAP/blob/main/Executing%20Owaszap%20Scan2.jpg) 

Once this scan will finish, we will be able to get the report.

## Output Report Generated by OWASP ZAP

The generated report presents the comprehensive security scan report produced by OWASP ZAP. The report contains detailed insights into potential vulnerabilities, security risks, and recommendations identified during the automated assessment of the target web application. Analyzing this report is crucial for understanding and addressing security weaknesses to enhance the overall resilience of the web application against potential cyber threats.

![image](https://github.com/forza-dc/Enhancing-Web-Application-Security-DevSecOps-and-OWASP-ZAP/blob/main/OwaspZap%20Report.png) 
![image](https://github.com/forza-dc/Enhancing-Web-Application-Security-DevSecOps-and-OWASP-ZAP/blob/main/Security%20Alert%20with%20Details.png) 

Here is the summary of our OWASPZAP Scan. We have total 5 Medium Level Vulnerabilities.

| Summary of Alerts  | Risk Level      | Number of Alerts |
|--------------------|-----------------|------------------|
|     :no_entry_sign: | High            |        0         |
|     :warning:       | Medium          |        5         |
|     :large_blue_diamond: | Low         |        7         |
|     :information_source: | Informational |        9         |
|     :white_check_mark: | False Positives|        0         |

## Conclusion

After the completion of the scan, no high-risk vulnerabilities were found. However, a considerable number of medium and low-risk issues, alongside informational findings, were detected.
Medium-risk vulnerabilities, observed in instances such as the absence of Anti-CSRF tokens, improperly configured Content Security Policy (CSP) headers, and the omission of Anti-clickjacking headers, identify potential weak points that, if left unattended, could lead to security breaches.
Furthermore, low-risk concerns, such as the absence of the SameSite attribute in cookies, potential Cross-Domain JavaScript Source File Inclusions, and misconfigured headers, while not posing an immediate threat, highlight areas where reinforcing security measures could enhance the web application's defense posture.
üë®üèª‚Äçüíª üöÄ In summary, the OWASP ZAP Vulnerability Scanner effectively identifies a range of vulnerabilities and areas for enhancement within the scanned site. By addressing these findings through suitable mitigation strategies‚Ää-‚Ääsuch as implementing missing security headers, refining input validation, and improving session management‚Ää-‚Ääthe potential attack surface can be significantly reduced, fortifying the overall security stance of the site against potential threats. üë®üèª‚Äçüíª üöÄ
